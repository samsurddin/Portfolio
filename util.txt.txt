utility function for versoin 2